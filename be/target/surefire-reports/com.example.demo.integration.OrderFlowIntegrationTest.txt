-------------------------------------------------------------------------------
Test set: com.example.demo.integration.OrderFlowIntegrationTest
-------------------------------------------------------------------------------
Tests run: 6, Failures: 1, Errors: 4, Skipped: 0, Time elapsed: 9.800 s <<< FAILURE! -- in com.example.demo.integration.OrderFlowIntegrationTest
com.example.demo.integration.OrderFlowIntegrationTest.placeMarketOrder_SellWithoutHolding_ShouldFail -- Time elapsed: 0.075 s <<< FAILURE!
java.lang.AssertionError: 

Expecting actual throwable to be an instance of:
  java.lang.IllegalStateException
but was:
  java.lang.RuntimeException: Failed to place order: Unable to get latest price for symbol: BTCUSDT
	at com.example.demo.service.OrderService.placeMarketOrder(OrderService.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	...(88 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
	at com.example.demo.integration.OrderFlowIntegrationTest.placeMarketOrder_SellWithoutHolding_ShouldFail(OrderFlowIntegrationTest.java:141)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

com.example.demo.integration.OrderFlowIntegrationTest.placeMultipleOrders_ShouldUpdatePortfolio -- Time elapsed: 0.062 s <<< ERROR!
java.lang.RuntimeException: Failed to place order: Unable to get latest price for symbol: BTCUSDT
	at com.example.demo.service.OrderService.placeMarketOrder(OrderService.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.demo.service.OrderService$$SpringCGLIB$$0.placeMarketOrder(<generated>)
	at com.example.demo.integration.OrderFlowIntegrationTest.placeMultipleOrders_ShouldUpdatePortfolio(OrderFlowIntegrationTest.java:192)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: java.lang.RuntimeException: Unable to get latest price for symbol: BTCUSDT
	at com.example.demo.service.OrderService.placeMarketOrder(OrderService.java:42)
	... 14 more

com.example.demo.integration.OrderFlowIntegrationTest.placeMarketOrder_SellOrder_ShouldReduceHolding -- Time elapsed: 0.062 s <<< ERROR!
java.lang.RuntimeException: Failed to place order: Unable to get latest price for symbol: ETHUSDT
	at com.example.demo.service.OrderService.placeMarketOrder(OrderService.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.demo.service.OrderService$$SpringCGLIB$$0.placeMarketOrder(<generated>)
	at com.example.demo.integration.OrderFlowIntegrationTest.placeMarketOrder_SellOrder_ShouldReduceHolding(OrderFlowIntegrationTest.java:112)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: java.lang.RuntimeException: Unable to get latest price for symbol: ETHUSDT
	at com.example.demo.service.OrderService.placeMarketOrder(OrderService.java:42)
	... 14 more

com.example.demo.integration.OrderFlowIntegrationTest.cancelOrder_PendingLimitOrder_ShouldSucceed -- Time elapsed: 0.068 s <<< ERROR!
java.lang.RuntimeException: Failed to cancel order: Order not found: b477cc32-3b8a-4135-8ee5-9f3be4559ad5
	at com.example.demo.service.OrderService.cancelOrder(OrderService.java:315)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at com.example.demo.service.OrderService$$SpringCGLIB$$0.cancelOrder(<generated>)
	at com.example.demo.integration.OrderFlowIntegrationTest.cancelOrder_PendingLimitOrder_ShouldSucceed(OrderFlowIntegrationTest.java:178)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: java.lang.RuntimeException: Order not found: b477cc32-3b8a-4135-8ee5-9f3be4559ad5
	at com.example.demo.service.OrderService.lambda$cancelOrder$0(OrderService.java:279)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.example.demo.service.OrderService.cancelOrder(OrderService.java:279)
	... 9 more

com.example.demo.integration.OrderFlowIntegrationTest.placeMarketOrder_BuyOrder_ShouldExecuteImmediately -- Time elapsed: 0.061 s <<< ERROR!
java.lang.RuntimeException: Failed to place order: Unable to get latest price for symbol: BTCUSDT
	at com.example.demo.service.OrderService.placeMarketOrder(OrderService.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.demo.service.OrderService$$SpringCGLIB$$0.placeMarketOrder(<generated>)
	at com.example.demo.integration.OrderFlowIntegrationTest.placeMarketOrder_BuyOrder_ShouldExecuteImmediately(OrderFlowIntegrationTest.java:83)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: java.lang.RuntimeException: Unable to get latest price for symbol: BTCUSDT
	at com.example.demo.service.OrderService.placeMarketOrder(OrderService.java:42)
	... 14 more

